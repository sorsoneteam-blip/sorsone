<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Confirmed - Sorsone Silicon Ice Roller</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Additional styles specific to order success page */
        .success-hero {
            background: var(--gradient-green);
            padding: 8rem 0 4rem;
            text-align: center;
            color: var(--white);
            position: relative;
            overflow: hidden;
        }

        .success-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
            animation: scaleIn 0.5s ease;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .success-hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: slideDown 0.6s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .success-container {
            max-width: 900px;
            margin: -3rem auto 4rem;
            padding: 0 20px;
        }

        .order-details-card {
            background: var(--white);
            border-radius: 30px;
            padding: 3rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            animation: fadeInUp 0.7s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .order-header {
            text-align: center;
            padding-bottom: 2rem;
            border-bottom: 2px solid var(--light-bg);
            margin-bottom: 2rem;
        }

        .order-id {
            font-size: 1.5rem;
            color: var(--primary-green);
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .order-date {
            color: var(--text-light);
            font-size: 0.95rem;
        }

        .payment-status-badge {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            margin-top: 1rem;
            font-size: 1.1rem;
        }

        .status-paid {
            background: #d4edda;
            color: #155724;
        }

        .status-cod {
            background: #fff3cd;
            color: #856404;
        }

        .details-section {
            margin-bottom: 2rem;
        }

        .details-section h3 {
            color: var(--text-dark);
            font-size: 1.3rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light-bg);
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            color: var(--text-light);
            font-weight: 500;
        }

        .detail-value {
            color: var(--text-dark);
            font-weight: 600;
            text-align: right;
        }

        .product-showcase {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            padding: 1.5rem;
            background: var(--light-bg);
            border-radius: 20px;
            margin-bottom: 2rem;
        }

        .product-image-small {
            width: 100px;
            height: 100px;
            object-fit: contain;
            border-radius: 15px;
            background: white;
            padding: 0.5rem;
        }

        .product-info-inline {
            flex: 1;
        }

        .product-info-inline h4 {
            color: var(--text-dark);
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .product-info-inline p {
            color: var(--text-light);
            margin: 0.25rem 0;
        }

        .total-section {
            background: var(--light-bg);
            padding: 1.5rem;
            border-radius: 20px;
            margin-top: 2rem;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-green);
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 2rem;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 2rem;
        }

        .info-box h4 {
            color: #1976d2;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .info-box p {
            color: #0d47a1;
            margin: 0.25rem 0;
            font-size: 0.95rem;
        }

        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid var(--light-bg);
            border-top: 5px solid var(--primary-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            text-align: center;
            padding: 3rem;
            color: var(--red);
        }

        .error-message h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .success-hero h1 {
                font-size: 2rem;
            }

            .success-icon {
                font-size: 3rem;
            }

            .order-details-card {
                padding: 2rem 1.5rem;
            }

            .action-buttons {
                grid-template-columns: 1fr;
            }

            .product-showcase {
                flex-direction: column;
                text-align: center;
            }

            .detail-row {
                flex-direction: column;
                gap: 0.5rem;
            }

            .detail-value {
                text-align: left;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <p>Loading your order details...</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <h2>Sorsone</h2>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="index.html#products">Products</a></li>
                <li><a href="index.html#gallery">Gallery</a></li>
                <li><a href="index.html#benefits">Benefits</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Success Hero Section -->
    <section class="success-hero">
        <div class="container">
            <div class="success-icon">‚úÖ</div>
            <h1>Order Confirmed!</h1>
            <p>Thank you for your purchase. Your order has been successfully placed.</p>
        </div>
    </section>

    <!-- Order Details Section -->
    <section class="section section-light">
        <div class="success-container">
            <!-- Error Message (hidden by default) -->
            <div id="errorMessage" class="error-message" style="display: none;">
                <h2>‚ö†Ô∏è Order Not Found</h2>
                <p>We couldn't find your order details. Please check your email or contact support.</p>
                <a href="index.html" class="btn btn-primary" style="margin-top: 1rem;">Return to Home</a>
            </div>

            <!-- Order Details Card (hidden until loaded) -->
            <div id="orderDetailsCard" class="order-details-card" style="display: none;">
                <!-- Order Header -->
                <div class="order-header">
                    <div class="order-id">Order ID: <span id="displayOrderId">-</span></div>
                    <div class="order-date" id="displayOrderDate">-</div>
                    <div class="payment-status-badge" id="displayPaymentStatus">Processing</div>
                </div>

                <!-- Product Showcase -->
                <div class="product-showcase">
                    <img id="productImage" src="" alt="Product" class="product-image-small">
                    <div class="product-info-inline">
                        <h4 id="displayProductName">-</h4>
                        <p><strong>Color:</strong> <span id="displayColor">-</span></p>
                        <p><strong>Quantity:</strong> <span id="displayQuantity">-</span></p>
                    </div>
                </div>

                <!-- Customer Details -->
                <div class="details-section">
                    <h3>üìã Customer Details</h3>
                    <div class="detail-row">
                        <span class="detail-label">Name</span>
                        <span class="detail-value" id="displayCustomerName">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Phone Number</span>
                        <span class="detail-value" id="displayPhone">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Email</span>
                        <span class="detail-value" id="displayEmail">-</span>
                    </div>
                </div>

                <!-- Delivery Address -->
                <div class="details-section">
                    <h3>üì¶ Delivery Address</h3>
                    <div class="detail-row">
                        <span class="detail-value" id="displayAddress" style="text-align: left;">-</span>
                    </div>
                </div>

                <!-- Payment Details -->
                <div class="details-section">
                    <h3>üí≥ Payment Details</h3>
                    <div class="detail-row">
                        <span class="detail-label">Payment Method</span>
                        <span class="detail-value" id="displayPaymentMethod">-</span>
                    </div>
                    <div class="detail-row" id="transactionIdRow" style="display: none;">
                        <span class="detail-label">Transaction ID</span>
                        <span class="detail-value" id="displayTransactionId">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Order Status</span>
                        <span class="detail-value" id="displayOrderStatus">-</span>
                    </div>
                </div>

                <!-- Total Amount -->
                <div class="total-section">
                    <div class="total-row">
                        <span>Total Amount</span>
                        <span id="displayTotalAmount">‚Çπ0</span>
                    </div>
                </div>

                <!-- Info Box -->
                <div class="info-box" id="infoBox">
                    <h4>üìå What's Next?</h4>
                    <p id="nextStepsMessage">-</p>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <a href="index.html" class="btn btn-primary">Continue Shopping</a>
                    <a href="index.html#contact" class="btn btn-secondary">Contact Support</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>Sorsone</h3>
                    <p>Premium Silicon Ice Roller for healthy lifestyle</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="about.html">About</a></li>
                            <li><a href="contact.html">Contact</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>Policies</h4>
                        <ul>
                            <li><a href="privacy.html">Privacy Policy</a></li>
                            <li><a href="terms.html">Terms & Conditions</a></li>
                            <li><a href="refund.html">Refund Policy</a></li>
                            <li><a href="disclaimer.html">Disclaimer</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>Follow Us</h4>
                        <div class="social-links">
                            <a href="#" class="social-icon">üì∑</a>
                            <a href="#" class="social-icon">üì±</a>
                            <a href="#" class="social-icon">üê¶</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Sorsone.com - All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // ==================== ORDER SUCCESS PAGE LOGIC ====================

        // Product color mapping
        const COLOR_NAMES = {
            'blue': 'Cool Breeze (Blue)',
            'green': 'Fresh Mint (Green)',
            'pink': 'Berry Bliss (Pink)',
            'purple': 'Lavender Dream (Purple)'
        };

        // Product image mapping
        const COLOR_IMAGES = {
            'blue': 'images/Blue_varient.png',
            'green': 'images/green_varient.png',
            'pink': 'images/pink_varient.jpeg',
            'purple': 'images/purple_varient.jpeg'
        };

        /**
         * Get order data from URL parameters
         */
        function getOrderDataFromURL() {
            const params = new URLSearchParams(window.location.search);
            
            // Check if order data exists in URL
            if (!params.has('orderId')) {
                return null;
            }

            return {
                orderId: params.get('orderId'),
                customerName: params.get('customerName'),
                phone: params.get('phone'),
                email: params.get('email'),
                address: params.get('address'),
                productName: params.get('productName'),
                colorVariant: params.get('colorVariant'),
                quantity: params.get('quantity'),
                totalAmount: params.get('totalAmount'),
                paymentMethod: params.get('paymentMethod'),
                paymentStatus: params.get('paymentStatus'),
                transactionId: params.get('transactionId') || '',
                orderDate: params.get('orderDate')
            };
        }

        /**
         * Format date for display
         */
        function formatOrderDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-IN', {
                day: '2-digit',
                month: 'long',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        /**
         * Display order details on the page
         */
        function displayOrderDetails(orderData) {
            // Order ID and Date
            document.getElementById('displayOrderId').textContent = orderData.orderId;
            document.getElementById('displayOrderDate').textContent = formatOrderDate(orderData.orderDate);

            // Product Details
            document.getElementById('productImage').src = COLOR_IMAGES[orderData.colorVariant] || 'images/Blue_varient.png';
            document.getElementById('displayProductName').textContent = orderData.productName;
            document.getElementById('displayColor').textContent = COLOR_NAMES[orderData.colorVariant] || orderData.colorVariant;
            document.getElementById('displayQuantity').textContent = orderData.quantity;

            // Customer Details
            document.getElementById('displayCustomerName').textContent = orderData.customerName;
            document.getElementById('displayPhone').textContent = orderData.phone;
            document.getElementById('displayEmail').textContent = orderData.email;

            // Delivery Address
            document.getElementById('displayAddress').textContent = orderData.address;

            // Payment Details
            const paymentMethodText = orderData.paymentMethod === 'razorpay' ? 'Online Payment' : 'Cash on Delivery';
            document.getElementById('displayPaymentMethod').textContent = paymentMethodText;

            // Payment Status Badge
            const statusBadge = document.getElementById('displayPaymentStatus');
            if (orderData.paymentStatus === 'Paid') {
                statusBadge.textContent = '‚úì Payment Successful';
                statusBadge.className = 'payment-status-badge status-paid';
            } else {
                statusBadge.textContent = 'COD - Payment Pending';
                statusBadge.className = 'payment-status-badge status-cod';
            }

            // Transaction ID (only for online payments)
            if (orderData.transactionId) {
                document.getElementById('transactionIdRow').style.display = 'flex';
                document.getElementById('displayTransactionId').textContent = orderData.transactionId;
            }

            // Order Status
            document.getElementById('displayOrderStatus').textContent = 'New Order';

            // Total Amount
            document.getElementById('displayTotalAmount').textContent = `‚Çπ${orderData.totalAmount}`;

            // Next Steps Message
            let nextStepsMessage = '';
            if (orderData.paymentMethod === 'razorpay') {
                nextStepsMessage = '‚úì Your payment has been received successfully.<br>' +
                    '‚úì We will process your order and ship it within 24-48 hours.<br>' +
                    '‚úì You will receive a tracking number via SMS and email.';
            } else {
                nextStepsMessage = '‚úì Your order has been confirmed.<br>' +
                    '‚úì Please keep ‚Çπ' + orderData.totalAmount + ' ready for cash on delivery.<br>' +
                    '‚úì Our delivery partner will contact you shortly.<br>' +
                    '‚úì Estimated delivery: 3-5 business days.';
            }
            document.getElementById('nextStepsMessage').innerHTML = nextStepsMessage;

            // Hide loading screen and show order details
            document.getElementById('loadingScreen').style.display = 'none';
            document.getElementById('orderDetailsCard').style.display = 'block';
        }

        /**
         * Show error message if order data not found
         */
        function showError() {
            document.getElementById('loadingScreen').style.display = 'none';
            document.getElementById('errorMessage').style.display = 'block';
        }

        /**
         * Initialize page on load
         */
        window.addEventListener('load', function() {
            // Get order data from URL
            const orderData = getOrderDataFromURL();

            if (orderData && orderData.orderId) {
                // Display order details
                displayOrderDetails(orderData);
            } else {
                // Show error if no order data found
                showError();
            }
        });

        // Prevent back button after order confirmation
        history.pushState(null, null, location.href);
        window.onpopstate = function() {
            history.go(1);
        };
    </script>
</body>
</html>